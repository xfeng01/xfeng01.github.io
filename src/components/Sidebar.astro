---
import { site, info } from "../consts";
---

<aside class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg transition-colors duration-300 sm:max-w-xs sm:mx-auto">
  <!-- Top gradient decoration -->
  <div class="h-3 bg-gradient-to-r from-blue-500 to-indigo-600"></div>
  
  <div class="p-4 sm:p-5">
    <!-- Mobile layout - shown on small screens -->
    <div class="sm:hidden">
      <!-- Three-area layout: Avatar | Name+Degree | Icons -->
      <div class="flex items-center">
        <!-- Left avatar -->
        <div class="relative flex-shrink-0 mr-3">
          <img
            class="w-20 h-20 rounded-full object-cover border-3 border-white dark:border-gray-700 shadow-md"
            src={site.avatar}
            alt={site.author}
          />
          <div class="absolute -bottom-1 -right-1 bg-green-500 w-3 h-3 rounded-full border-2 border-white dark:border-gray-700"></div>
        </div>
        
        <!-- Middle name and degree -->
        <div class="flex flex-col justify-center flex-grow">
          <h2 class="text-base font-bold text-gray-800 dark:text-white mb-0.5 leading-normal">
            {site.author}
          </h2>
          <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mt-0 mb-0.5 leading-normal">{site.author_CN}</h3>
          <p class="text-xs text-gray-600 dark:text-gray-400 leading-normal">MSc in ECE</p>
        </div>
        
        <!-- Right social media icons -->
        <div class="flex space-x-0.5">
          {
            info.social.slice(0, 4).map((social) => (
              <a 
                href={social.link} 
                class="social-icon-link flex items-center justify-center w-12 h-12 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"
                title={social.name}
                target="_blank"
                rel="noopener noreferrer"
              >
                <i class={`${social.icon} ${social.color} text-3xl`} />
              </a>
            ))
          }
        </div>
      </div>
    </div>
    
    <!-- Desktop layout - hidden on small screens -->
    <div class="hidden sm:block">
      <!-- Avatar and basic info -->
      <div class="flex flex-col items-center text-center mb-5">
        <div class="relative mb-3 inline-block">
          <img
            class="w-24 md:w-32 h-24 md:h-32 rounded-full object-cover border-4 border-white dark:border-gray-700 shadow-md"
            src={site.avatar}
            alt={site.author}
          />
          <div class="absolute -bottom-2 -right-2 bg-green-500 w-4 h-4 rounded-full border-2 border-white dark:border-gray-700"></div>
        </div>
        
        <h2 class="text-xl font-bold text-gray-800 dark:text-white mb-0">
          {site.author}
        </h2>
        <h3 class="text-base font-medium text-gray-700 dark:text-gray-300 mt-0 mb-2">{site.author_CN}</h3>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">{site.description}</p>
        
        <!-- Location info -->
        <div class="inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-50 dark:bg-blue-900 text-blue-600 dark:text-blue-300">
          <i class="fas fa-map-marker-alt mr-1"></i>
          <span>{info.location.name}</span>
        </div>
      </div>
      
      <!-- Social media links -->
      <div class="border-t border-gray-200 dark:border-gray-700 pt-3">
        <h4 class="text-sm font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2">Links</h4>
        <div class="flex flex-col space-y-1">
          {
            info.social.map((social) => (
              <a 
                href={social.link} 
                class="social-icon-link flex items-center px-3 py-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-300 no-underline"
                title={social.name}
                target="_blank"
                rel="noopener noreferrer"
              >
                <div class="flex items-center justify-center w-6">
                  <i class={`${social.icon} ${social.color} text-lg no-underline`} />
                </div>
                <span class="text-sm text-gray-600 dark:text-gray-400 hover:underline ml-3">
                  {social.name}
                </span>
              </a>
            ))
          }
        </div>
      </div>
    </div>
  </div>
</aside>

<style>
  :global(.dark) .bg-white {
    background-color: #1f2937 !important; /* dark:bg-gray-800 */
    color: #e5e7eb !important; /* dark:text-gray-300 */
  }
  
  :global(.dark) .text-gray-800 {
    color: #f3f4f6 !important; /* dark:text-gray-100 */
  }
  
  :global(.dark) .border-gray-200 {
    border-color: #374151 !important; /* dark:border-gray-700 */
  }
  
  :global(.dark) .bg-gray-100 {
    background-color: #374151 !important; /* dark:bg-gray-700 */
  }
  
  /* Disable icon underlines */
  .social-icon-link {
    text-decoration: none !important;
  }
  
  .social-icon-link:hover {
    text-decoration: none !important;
  }
  
  .social-icon-link i {
    text-decoration: none !important;
  }
  
  .social-icon-link:hover i {
    text-decoration: none !important;
  }
  
  .social-icon-link span {
    text-decoration: none;
  }
  
  .social-icon-link:hover span {
    text-decoration: underline;
  }
</style>
